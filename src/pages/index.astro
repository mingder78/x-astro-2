---
// Fetch data in the frontmatter
const apiUrl = import.meta.env.API_URL || 'http://localhost:4321';

const response = await fetch(`${apiUrl}/items`);
const { items } = await response.json();

type UserSchema = {
    name: string; // minLength: 1 enforced at runtime or via validation
    description: string;
  };
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Items List</title>
  </head>
  <body>
    <h1>Items List</h1>
    <ul>
      <!-- Loop through items and display them -->
      {
        items.map((item: UserSchema) => (
          <li>
            {item.name} ðŸš€ {item.description}
          </li>
        ))
      }
    </ul>
  </body>
</html>
